{"version":3,"file":"src_app_pages_qr-page_qr-page_module_ts-src_app_services_boleto_service_ts.js","mappings":"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","sources":["./src/app/pages/qr-page/qr-page-routing.module.ts","./src/app/pages/qr-page/qr-page.module.ts","./src/app/services/boleto.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { QrPagePage } from './qr-page.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: QrPagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class QrPagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { QrPagePageRoutingModule } from './qr-page-routing.module';\r\n\r\nimport { QrPagePage } from './qr-page.page';\r\nimport { QRCodeModule } from 'angular2-qrcode';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    QrPagePageRoutingModule,\r\n    QRCodeModule\r\n  ],\r\n  declarations: [QrPagePage]\r\n})\r\nexport class QrPagePageModule {}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable, SkipSelf } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Boleto } from '../model/Boleto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BoletoService {\r\n\r\n  apiEndpoint = environment.apiEnviroment.endpoint + environment.apiEnviroment.apiBoletos + \"/\";\r\n  public iv: Buffer;\r\n\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public async getBoletos(id_boleto?: Number): Promise<Boleto[]> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint;\r\n      let boleto: Boleto[];\r\n      if (id_boleto) {\r\n        endpoint += id_boleto;\r\n      }\r\n      try {\r\n        boleto = await this.http.get(endpoint).toPromise() as Boleto[];\r\n        resolve(boleto);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async getBoleto(id_boleto: Number): Promise<Boleto> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint + id_boleto;\r\n      let boleto: Boleto;\r\n\r\n      try {\r\n        boleto = await this.http.get(endpoint).toPromise() as Boleto;\r\n        resolve(boleto);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async getBoletosEntregados(): Promise<Boleto[]> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint + environment.apiEnviroment.apiBoletosEntregados;\r\n      let boletos;\r\n      try {\r\n        boletos = await this.http.get(endpoint).toPromise();\r\n        resolve(boletos);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public async getBoletosCanjeados(): Promise<Boleto[]> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint + environment.apiEnviroment.apiBoletoscanjeados;\r\n      let boletos: Boleto[];\r\n      try {\r\n        boletos = await this.http.get(endpoint).toPromise() as Boleto[];\r\n        resolve(boletos);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public async getBoletosByUsuario(id_usuario: Number): Promise<Boleto[]> {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (id_usuario && id_usuario > -1) {\r\n        let endpoint = this.apiEndpoint + id_usuario;\r\n        let boletos: Boleto[];\r\n        try {\r\n          boletos = await this.http.get(endpoint).toPromise() as Boleto[];\r\n          resolve(boletos);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      } else {\r\n        reject();\r\n      }\r\n    });\r\n  }\r\n\r\n  public async getBoletoSorteo(id_usuario: Number): Promise<Boleto[]> {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (id_usuario && id_usuario > -1) {\r\n        let endpoint = this.apiEndpoint + environment.apiEnviroment.apiBoletosSorteo + \"/\" + id_usuario;\r\n        let boletos: Boleto[];\r\n        try {\r\n          boletos = await this.http.get(endpoint).toPromise() as Boleto[];\r\n          resolve(boletos);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      } else {\r\n        reject(\"id_usuario mal introducido\");\r\n      }\r\n    });\r\n  }\r\n\r\n  public async postBoleto(newBoleto: Boleto): Promise<Boleto> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint;\r\n     // let boletos: Boleto[];\r\n      try {\r\n       let boleto:any= await this.http.post(endpoint, newBoleto).toPromise() as Boleto[];\r\n        resolve(boleto);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async putBoleto(newBoleto: Boleto): Promise<Boleto> {\r\n    return new Promise(async (resolve, reject) => {\r\n      let endpoint = this.apiEndpoint;\r\n      let boletos: Boleto;\r\n      try {\r\n        boletos = await this.http.put(endpoint, newBoleto).toPromise() as Boleto;\r\n        resolve(boletos);\r\n      } catch (error) {\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  public async deleteBoleto(id_boleto: Number): Promise<boolean> {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (id_boleto && id_boleto > -1) {\r\n        let endpoint = this.apiEndpoint + id_boleto;\r\n        try {\r\n          await this.http.delete(endpoint).toPromise();\r\n          resolve(true);\r\n        } catch (error) {\r\n          reject(false);\r\n        }\r\n      } else {\r\n        reject(false);\r\n      }\r\n    });\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}