{"version":3,"file":"src_app_tab1_tab1_module_ts.js","mappings":"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","sources":["./src/app/tab1/tab1-routing.module.ts","./src/app/tab1/tab1.module.ts","./src/app/tab1/tab1.page.ts","./src/app/tab1/tab1.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab1Page } from './tab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab1Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\r\nimport { TicketService } from '../services/ticket.service';\r\nimport { QRCodeModule } from 'angular2-qrcode';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    Tab1PageRoutingModule,\r\n    QRCodeModule\r\n  ],\r\n  declarations: [Tab1Page]\r\n})\r\nexport class Tab1PageModule {}\r\n","import { Component } from '@angular/core';\r\nimport { ModalController, NavController } from '@ionic/angular';\r\nimport { Boleto } from '../model/Boleto';\r\nimport { BoletoDetailsPage } from '../pages/boleto-details/boleto-details.page';\r\nimport { QrPagePage } from '../pages/qr-page/qr-page.page';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { BoletoService } from '../services/boleto.service';\r\nimport { ToastService } from '../services/toast.service';\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss'],\r\n})\r\nexport class Tab1Page {\r\n  public isGenerated: boolean = false;\r\n\r\n  constructor(\r\n    private boletoService: BoletoService,\r\n    public navCtrl: NavController,\r\n    private modalController: ModalController,\r\n    private toastService: ToastService\r\n  ) {}\r\n\r\n  public dirigirAAyuda() {\r\n    this.navCtrl.navigateRoot('help');\r\n  }\r\n\r\n  /**\r\n   * Generar qr para acceder a la pagina de los tickets\r\n   */\r\n  public async generateBoletoQR() {\r\n    const modal = await this.modalController.create({\r\n      component: QrPagePage, \r\n      cssClass: 'my-modal',\r\n      componentProps: {},\r\n    });\r\n    await modal.present();\r\n    await modal.onDidDismiss();\r\n  }\r\n\r\n  public async checkBoleto(idBoleto: number | string) {\r\n    console.log(idBoleto);\r\n    if (!this.checkParseNumber(idBoleto)) {\r\n      this.toastService.showToast(\r\n        'El boleto no es valido, inserte un número correcto.',\r\n        'danger'\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.boletoService\r\n      .getBoleto(idBoleto as number)\r\n      .then((boleto) => {\r\n        if (boleto.id) this.showBoletoModal(boleto);\r\n        else this.toastService.showToast('Boleto no encontrado', 'danger');\r\n      })\r\n      .catch((error) => {\r\n        this.toastService.showToast('Ha ocurrido un error...', 'danger');\r\n      });\r\n  }\r\n\r\n  public checkParseNumber(idBoleto: number | string) {\r\n    if (typeof idBoleto !== 'string') {\r\n      return false;\r\n    }\r\n\r\n    if (idBoleto.trim() === '') {\r\n      return false;\r\n    }\r\n\r\n    return !Number.isNaN(Number(idBoleto));\r\n  }\r\n\r\n  async showBoletoModal(boleto: Boleto) {\r\n    const modal = await this.modalController.create({\r\n      component: BoletoDetailsPage,\r\n      cssClass: 'my-modal',\r\n      componentProps: {\r\n        boleto: boleto,\r\n      },\r\n    });\r\n    await modal.present();\r\n    await modal.onDidDismiss();\r\n  }\r\n\r\n}\r\n","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar color=\\\"warning\\\">\\r\\n    <ion-title class=\\\"header\\\"> RASCA Y GANA </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button class=\\\"buttonHelp\\\" (click)=\\\"dirigirAAyuda()\\\">\\r\\n      <ion-icon name=\\\"help-circle\\\" class=\\\"iconHelp\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n  <div class=\\\"home\\\">\\r\\n    <div class=\\\"ini\\\">\\r\\n      <img src=\\\"../../assets/icono.png\\\" />\\r\\n    </div>\\r\\n    <ion-label>Validador de premios:</ion-label>\\r\\n    <ion-input\\r\\n      placeholder=\\\"Introduce el código del premio...\\\"\\r\\n      class=\\\"input\\\"\\r\\n      id=\\\"idBoleto\\\"\\r\\n      name=\\\"idBoleto\\\"\\r\\n      #idBoleto\\r\\n    ></ion-input>\\r\\n    <ion-button\\r\\n      class=\\\"boton\\\"\\r\\n      type=\\\"submit\\\"\\r\\n      color=\\\"tertiary\\\"\\r\\n      shape=\\\"round\\\"\\r\\n      expand=\\\"block\\\"\\r\\n      (click)=\\\"checkBoleto(idBoleto.value)\\\"\\r\\n      >COMPROBAR</ion-button\\r\\n    >\\r\\n    <ion-button\\r\\n      class=\\\"boton-boleto\\\"\\r\\n      (click)=\\\"generateBoletoQR()\\\"\\r\\n      shape=\\\"round\\\"\\r\\n      color=\\\"tertiary\\\"\\r\\n      expand=\\\"block\\\"\\r\\n    >\\r\\n      <ion-icon name=\\\"qr-code-outline\\\"></ion-icon>&nbsp;&nbsp; GENERAR BOLETO\\r\\n    </ion-button>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}